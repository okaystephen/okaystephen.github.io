<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Lander's Authorization Letter</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.2.9/pdfmake.min.js"
        integrity="sha512-5wC3oH3tojdOtHBV6B4TXjlGc0E2uk3YViSrWnv1VUmmVlQDAs1lcupsqqpwjh8jIuodzADYK5xCL5Dkg/ving=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.2.9/vfs_fonts.js"
        integrity="sha512-nNkHPz+lD0Wf0eFGO0ZDxr+lWiFalFutgVeGkPdVgrG4eXDYUnhfEj9Zmg1QkrJFLC0tGs8ZExyU/1mjs4j93w=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"
        integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
        integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js"
        integrity="sha384-cuYeSxntonz0PPNlHhBs68uyIAVpIIOZZ5JqeqvYYIcEL727kskC66kF92t6Xl2V"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
        crossorigin="anonymous"></script>
</head>

<style>
    .container-fluid {
        min-height: 100vh;
    }
</style>

<body>
    <div class="container-fluid d-flex justify-content-center align-items-center">
        <div class="card shadow px-3 py-4" style="width: 20rem;">
            <div class="card-body">
                <h1 class="text-center"><i class="bi bi-printer-fill"></i></h1>
                <h5 class="card-title text-center">Lander's Authorization Letter</h5>
                <hr>
                <div class="form-group">
                    <label for="auth-date">Date</label>
                    <input type="date" class="form-control" id="auth-date" name="auth-date">
                </div>
                <div class="form-group pt-3 pb-2">
                    <label for="selected-name">For</label>
                    <select id="selected-name" class="form-control">
                        <option selected value="mother">Mama</option>
                        <option value="father">Papa</option>
                        <option value="brother">Joshua</option>
                    </select>
                </div>
                <hr>
                <div class="text-center pt-2">
                    <button type="button" class="btn btn-primary" onclick="downloadPdf()">Generate Letter</button>
                </div>
            </div>
        </div>
    </div>

    <script type="text/javascript">
        function downloadPdf() {
            var date = new Date();
            var selectedDate = new Date($('#auth-date').val());
            var selectedName = '';
            const options = { year: 'numeric', month: 'long', day: 'numeric' };

            if (!isNaN(selectedDate)) {
                date = selectedDate;
            }

            if ($("#selected-name").val() == "mother") {
                selectedName = 'Erlinda';
            } else if ($("#selected-name").val() == "mother") {
                selectedName = 'Ver';
            } else {
                selectedName = 'Joshua';
            }

            var docDefinition = {
                content: [
                    { text: `${date.toLocaleDateString('en-EN', options)}`, margin: [5, 170, 5, 50] },
                    { text: "To whom it may concern,", margin: [5, 40, 5, 50] },
                    { text: `I hereby authorize my ${$('#selected-name').val()}, ${selectedName} Salamante, to use my Landers card.`, margin: [5, 0, 5, 130] },
                    { text: "Regards,", margin: [5, 0, 5, 6] },
                    { image: 'sig' },
                    { text: "Stephen Salamante", margin: [5, 0, 5, 0] },
                ],
                defaultStyle: {
                },
                images: {
                    sig: 'https://lh3.googleusercontent.com/drive-viewer/AEYmBYQZWrXl-EXZvV3ac0-eQtlJjGdttHnkUbaKeqXRgxPAGjJwsukrSdP_wqTgDHNBXfZk2IziezNuGku6QG95_p__oDMv9w=w100',
                }
            };

            pdfMake.createPdf(docDefinition).print();
        }
    </script>
</body>

</html>